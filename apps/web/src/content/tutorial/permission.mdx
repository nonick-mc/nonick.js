import { Steps, Callout } from "nextra/components"

# コマンドの権限を変更する

<Callout type="info">
この設定を行うには、`サーバー管理`権限を所有している必要があります。
</Callout>

BOTに搭載しているスラッシュコマンドやコンテキストメニューは、ロールと同じように**サーバー側で使用権限を変更することができます**。
権限を変更すると、以下のような高度な権限設定を行うことができます。

> ・特定のコマンドを全員が使用できなくする  
> ・権限を持っていなくても特定のユーザーが管理系のコマンドを使用できるようにする  
> ・コマンドを使えるチャンネルを指定する (コマンド入力用チャンネルなど)  

## 設定方法

<Callout>
現在、コマンド権限の変更は**PC版≒Web版のみに対応しています**。
スマホから設定する場合は[こちら](https://discord.com/login)にアクセスして、Web版で設定を行ってください。
</Callout>

<Steps>
### サーバーの設定を開く
権限を変更したいサーバーのサーバー名をクリックして、「**サーバー設定**」を選択します。

![サーバーコンテキストメニュー](/docs/tutorial/permission/guild_context_menu.png)

### 「連携サービス」からBOTを選択する
サーバー設定の「アプリ」カテゴリにある「**連携サービス**」を選択し、「Botおよびアプリ」から、権限を変更したいコマンドを搭載したBOTをクリックします。

![連携サービス](/docs/tutorial/permission/guild_integration_setting.png)

### コマンドの権限を変更する
選択したBOTが搭載しているスラッシュコマンドやコンテキストメニューの一覧が表示されます。

![コマンド一覧](/docs/tutorial/permission/guild_command_setting.png)

権限を変更したいコマンドやコンテキストメニューを選択すると、権限を設定できるモーダルが表示されます。
追加したロールに「許可」または「拒否」を選択することで、権限を上書きすることができます。

項目 | 説明
:---: | :---:
必要な権限 | 「表示」ボタンを選択すると、コマンドの実行に必要な権限を表示できます。
ロールとメンバー | コマンドの使用を許可・拒否するメンバーやロールを設定できます。使用を許可したメンバーは`必要な権限`を持っていなくてもコマンドを使用できます。
チャンネル | コマンドの使用を許可・拒否するチャンネルを設定できます。

<Callout type="error">
`/timeout`や`/setting`など、サーバーやBOTの管理に必要なコマンドの使用権限を運営以外が使用できるようにしないよう注意してください。
</Callout>
</Steps>
